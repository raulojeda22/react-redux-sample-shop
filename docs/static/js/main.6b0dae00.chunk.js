(this.webpackJsonppatotienda=this.webpackJsonppatotienda||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"a":[{"id":0,"name":"Donald","price":35,"image":"donald.jpg"},{"id":1,"name":"Lucas","price":3,"image":"lucas.jpg"},{"id":2,"name":"Daffy","price":12,"image":"daffy.jpg"},{"id":3,"name":"Huey","price":5,"image":"huey.jpg"},{"id":4,"name":"Dewey","price":52,"image":"dewey.jpg"},{"id":5,"name":"Louie","price":90,"image":"louie.jpg"},{"id":6,"name":"Cheese and Quackers","price":15,"image":"cheeseAndQuackers.jpg"},{"id":7,"name":"Firequacker","price":50,"image":"firequacker.jpg"},{"id":8,"name":"Sir Quacks a Lot","price":100,"image":"sirQuacksALot.jpeg"},{"id":9,"name":"Ducky Jr","price":11,"image":"duckyJr.jpeg"},{"id":10,"name":"Moby Duck","price":80,"image":"mobyDuck.jpg"},{"id":11,"name":"Waddles","price":16,"image":"waddles.jpg"},{"id":12,"name":"Quackie Chan","price":60,"image":"quackieChan.jpg"},{"id":13,"name":"Quack Sparrow","price":45,"image":"quackSparrow.jpg"},{"id":14,"name":"James Pond","price":77,"image":"jamesPond.jpg"},{"id":15,"name":"Duck Norris","price":95,"image":"duckNorris.png"},{"id":16,"name":"Aflac","price":7,"image":"aflac.jpg"},{"id":17,"name":"Eggbert","price":10,"image":"eggBert.jpeg"},{"id":18,"name":"Feather","price":8,"image":"feather.jpg"},{"id":19,"name":"Duckanan","price":130,"image":"duckanan.jpg"},{"id":20,"name":"Wolfgang Duck","price":60,"image":"wolfgangDuck.jpg"},{"id":21,"name":"Lucky Duck","price":200,"image":"luckyDuck.jpeg"},{"id":22,"name":"Quackula","price":40,"image":"quackula.jpg"},{"id":23,"name":"Golduck","price":500,"image":"golduck.jpeg"}]}')},35:function(e,t,a){e.exports=a(51)},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),i=a.n(c),o=a(13),l=a(14),u=a(6),s=a(7),m=a(10),d=a(8),p=a(9),g=(a(44),a(18));a(45);var h=function(){return n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,n.a.createElement(l.b,{to:"/react-redux-sample-shop"},"Patotienda")),n.a.createElement("ul",{id:"nav"},n.a.createElement("li",null,n.a.createElement("h2",null,n.a.createElement(l.b,{to:"/react-redux-sample-shop"},"Home"))),n.a.createElement("li",null,n.a.createElement("h2",null,n.a.createElement(l.b,{to:"/react-redux-sample-shop/cart"},"Cart")))))},v=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},n.a.createElement("h2",{style:{marginBottom:"50px"}},"Nothing here"))}}]),t}(r.Component),E="ALERT_SUCCESS",f="ALERT_ERROR",b="ALERT_CLEAR",y="LIST_DUCK_REQUEST",C="LIST_DUCK_SUCCESS",k="LIST_DUCK_FAILURE",O="ADD_CART_REQUEST",j="ADD_CART_SUCCESS",S="ADD_CART_FAILURE",T="REMOVE_CART_REQUEST",N="REMOVE_CART_SUCCESS",R="REMOVE_CART_FAILURE",_="GET_CART_REQUEST",D="GET_CART_SUCCESS",x="GET_CART_FAILURE",L="ORDER_CART_REQUEST",A="ORDER_CART_SUCCESS",I="ORDER_CART_FAILURE",U=a(21);U.a.configure({position:U.a.POSITION.BOTTOM_RIGHT,autoClose:1500});var w={success:function(e){return U.a.success(e),{type:E,message:e}},error:function(e){return U.a.error(e),{type:f,message:e}},clear:function(){return{type:b}}};var J=a(16),F=a(33),P=a(34),Q=a(17);var M=Object(J.c)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(Q.a)({},e,{type:"alert-success",message:t.message});case f:return Object(Q.a)({},e,{type:"alert-danger",message:t.message});case b:default:return e}},duck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(Q.a)({},e,{getting:!0});case C:return Object(Q.a)({},e,{getting:!1,duckList:t.value});case k:default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{state:e};case D:return console.log(t.value),Object(Q.a)({},e,{cartList:t.value});case x:default:return e}}}),q=Object(P.createLogger)(),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,W=Object(J.e)(M,void 0,B(Object(J.a)(F.a,q))),G=a(30),V=n.a.createContext("Empty"),H={list:function(){return Promise.resolve(G.a)}};var K=JSON.parse(localStorage.getItem("cart")),X=JSON.parse(localStorage.getItem("ducks"));K||(localStorage.setItem("cart",JSON.stringify({})),K={});var $={get:function(){return Promise.resolve(K)},add:function(e){z(),null==K[e]?(K[e]=X.filter((function(t){return t.id===parseInt(e)}))[0],K[e].total=1):K[e].total++;return localStorage.setItem("cart",JSON.stringify(K)),Promise.resolve(e)},remove:function(e){z(),null!==K[e]&&0!==K[e].total&&(K[e].total--,0===K[e].total&&delete K[e]);return localStorage.setItem("cart",JSON.stringify(K)),Promise.resolve(e)},order:function(e,t,a){return K={},localStorage.setItem("cart",JSON.stringify(K)),Promise.resolve({name:e,address:t,cardNumber:a})}};function z(){K||JSON.parse(localStorage.getItem("cart")),X||(X=JSON.parse(localStorage.getItem("ducks")))}var Y={list:function(){return function(e){var t;e({type:y,value:t}),H.list().then((function(t){e(function(e){return{type:C,value:e}}(t)),e(w.success("Duck list received"))}),(function(t){console.log(t),e(function(e){return{type:k,error:e}}(t.toString())),e(w.error(t.toString()))}))}}};var Z={add:function(e){return function(t){t({type:O,value:e}),$.add(e).then((function(e){t(function(e){return{type:j,value:e}}(e)),t(w.success("Duck added"))}),(function(e){console.log(e),t(function(e){return{type:S,error:e}}(e.toString())),t(w.error(e.toString()))}))}},remove:function(e){return function(t){t({type:T,value:e}),$.remove(e).then((function(e){t(function(e){return{type:N,value:e}}(e)),t(w.success("Duck removed"))}),(function(e){console.log(e),t(function(e){return{type:R,error:e}}(e.toString())),t(w.error(e.toString()))}))}},get:function(){return function(e){var t;e({type:_,value:t}),$.get().then((function(t){console.log(t),e(function(e){return{type:D,value:e}}(t)),e(w.success("Cart retrieved"))}),(function(t){console.log(t),e(function(e){return{type:x,error:e}}(t.toString())),e(w.error(t.toString()))}))}},order:function(e,t,a){return function(r){r({type:L,value:{name:e,address:t,cardNumber:a}}),$.order(e,t,a).then((function(e){console.log(e),r(function(e){return{type:A,value:e}}(e)),r(w.success("Ducks ordered"))}),(function(e){console.log(e),r(function(e){return{type:I,error:e}}(e.toString())),r(w.error(e.toString()))}))}}};var ee=a(5),te=(a(47),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addToCart=a.addToCart.bind(Object(ee.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"addToCart",value:function(e){this.props.addToCart(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props.duck;return n.a.createElement("div",{className:"duck",key:t.id},n.a.createElement("div",{className:"image"},n.a.createElement("img",{alt:t.name,width:"250px",height:"250px",src:"/react-redux-sample-shop/images/"+t.image})),n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"data"},n.a.createElement("h4",null,t.name),n.a.createElement("h3",null,t.price,n.a.createElement("small",null,n.a.createElement("sup",null,"\u20ac")))),n.a.createElement("div",{className:"actions"},n.a.createElement("button",{value:t.id,onClick:function(t){return e.addToCart(t)}},"Cart")," ")))}}]),t}(r.Component));te.defaultProps={duck:{id:0,name:"Duck",image:"duckyJr.jpeg",price:100}};var ae={addToCart:Z.add},re=Object(o.b)((function(e){return{alert:e.alert}}),ae)(te),ne=(a(48),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"duckList"},this.props.duckList&&this.props.duckList.map((function(e,t){return n.a.createElement(re,{key:t,duck:e})})))}}]),t}(r.Component)),ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).props.list(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"content"},n.a.createElement(ne,{duckList:this.props.duckList}))}}]),t}(r.Component);var ie={list:Y.list},oe=Object(o.b)((function(e){return{alert:e.alert,list:e.duck.list,duckList:e.duck.duckList}}),ie)(ce),le=(a(49),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addToCart=a.addToCart.bind(Object(ee.a)(a)),a.removeFromCart=a.removeFromCart.bind(Object(ee.a)(a)),a.componentDidMount=a.componentDidMount.bind(Object(ee.a)(a)),a.componentWillUnmount=a.componentWillUnmount.bind(Object(ee.a)(a)),a.props.getCart(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.success("Cart Component Did Mount")}},{key:"componentWillUnmount",value:function(){this.props.success("Cart Component Will Unmount")}},{key:"addToCart",value:function(e){this.props.addToCart(e.target.value)}},{key:"removeFromCart",value:function(e){this.props.removeFromCart(e.target.value)}},{key:"render",value:function(){var e=this;console.log(this.props.cartList);var t=[];for(var a in this.props.cartList)t.push(this.props.cartList[a]);var r=0;return n.a.createElement("div",{id:"cart"},n.a.createElement("div",{style:{marginTop:"50px",marginBottom:"20px"},className:"items"}," ",t.length>0&&t.map((function(t,a){return n.a.createElement("div",{className:"item",key:a},n.a.createElement("div",{className:"image"},n.a.createElement("img",{alt:t.name,width:"50px",height:"50px",src:"/react-redux-sample-shop/images/"+t.image})),n.a.createElement("div",{className:"name"},t.name),n.a.createElement("div",{className:"price"},t.price,n.a.createElement("small",null,n.a.createElement("sup",null,"\u20ac"))),n.a.createElement("div",{style:{display:"flex",justifyContent:"end",alignItems:"center"},className:"total"},n.a.createElement("button",{style:{marginRight:"0.5em"},className:"remove",value:t.id,onClick:e.removeFromCart},"-"),t.total,n.a.createElement("button",{style:{marginLeft:"0.5em"},value:t.id,onClick:e.addToCart},"+")),n.a.createElement("div",{className:"totalPrice"},t.total*t.price,n.a.createElement("small",null,n.a.createElement("sup",null,"\u20ac"))),n.a.createElement("div",{style:{display:"none"}},r+=t.total*t.price))}))),t.length>0&&n.a.createElement("div",{style:{marginBottom:"50px"},className:"result"},n.a.createElement("div",{style:{marginRight:"20px"}},"Total ",n.a.createElement("span",null,r,n.a.createElement("small",null,n.a.createElement("sup",null,"\u20ac")))),n.a.createElement(l.b,{to:"/react-redux-sample-shop/checkout"},n.a.createElement("button",null,"Checkout"))),t.length<=0&&n.a.createElement("h2",{style:{margin:"0 auto"}},this.context))}}]),t}(r.Component));le.contextType=V;var ue={addToCart:Z.add,removeFromCart:Z.remove,getCart:Z.get,success:w.success},se=Object(o.b)((function(e){return{alert:e.alert,cartList:e.cart.cartList}}),ue)(le),me=(a(50),a(23)),de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={name:"",address:"",cardNumber:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(ee.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(ee.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(me.a)({},a,r))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.name,r=t.address,n=t.cardNumber;a&&r&&n&&(this.props.order(a,r,n),this.props.history.push("/react-redux-sample-shop"))}},{key:"render",value:function(){console.log(this.props.history);var e=this.state,t=e.name,a=e.address,r=e.cardNumber,c=e.submitted;return n.a.createElement("div",{id:"checkout"},n.a.createElement("h2",{style:{textAlign:"center"}},"Checkout"),n.a.createElement("form",{style:{textAlign:"center"},onSubmit:this.handleSubmit}," ",n.a.createElement("div",{className:"name"},n.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:t,onChange:this.handleChange}),c&&!t&&n.a.createElement("div",{className:"error"},"Name is required")),n.a.createElement("div",{className:"address"},n.a.createElement("input",{type:"text",placeholder:"Address",name:"address",value:a,onChange:this.handleChange}),c&&!a&&n.a.createElement("div",{className:"error"},"Address is required")),n.a.createElement("div",{className:"cardNumber"},n.a.createElement("input",{type:"text",placeholder:"Card number",name:"cardNumber",value:r,onChange:this.handleChange}),c&&!r&&n.a.createElement("div",{className:"error"},"Card number is required")),n.a.createElement("button",null,"Buy")))}}]),t}(r.Component);var pe={order:Z.order},ge=Object(o.b)((function(e){return e}),pe)(de),he=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.duckList),n.a.createElement("div",null,n.a.createElement(h,null),n.a.createElement(V.Provider,{value:"Empty"}," ",n.a.createElement(g.c,null,n.a.createElement(g.a,{exact:!0,path:"/react-redux-sample-shop",component:oe}),n.a.createElement(g.a,{exact:!0,path:"/react-redux-sample-shop/cart",component:se}),n.a.createElement(g.a,{exact:!0,path:"/react-redux-sample-shop/checkout",component:ge}),n.a.createElement(g.a,{component:v}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));JSON.parse(localStorage.getItem("ducks"))||localStorage.setItem("ducks",JSON.stringify(G.a)),i.a.render(n.a.createElement(o.a,{store:W},n.a.createElement(l.a,null,n.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.6b0dae00.chunk.js.map